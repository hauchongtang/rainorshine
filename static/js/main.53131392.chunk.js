(this["webpackJsonprain-or-shine"]=this["webpackJsonprain-or-shine"]||[]).push([[0],{32:function(e,t,a){e.exports=a(62)},55:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(10),u=a.n(o),i=a(14),m=a(9),s=a(69),p=a(70),h=a(67),E=a(68),f=a(71),d=a(65),g=a(66),v=a(20),b=a.n(v),w=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/2-hour-weather-forecast",e.next=4,b.a.get("https://api.data.gov.sg/v1/environment/2-hour-weather-forecast");case 4:return t=e.sent,a={area:t.data.area_metadata,info:t.data.items[0]},e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/24-hour-weather-forecast",e.next=4,b.a.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast");case 4:return t=e.sent,a={regions:t.data.items[0].periods.map((function(e){return e.regions})),time:t.data.items[0].periods.map((function(e){return e.time}))},e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),j=(a(55),function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),v=o[0],b=o[1],j=Object(n.useState)([]),S=Object(m.a)(j,2),y=S[0],k=S[1],x=Object(n.useState)([]),D=Object(m.a)(x,2),L=D[0],T=D[1],_=Object(n.useState)([]),C=Object(m.a)(_,2),F=C[0],H=C[1],I=Object(n.useState)([1.3521,103.8198]),M=Object(m.a)(I,2),z=M[0],J=M[1],N=Object(n.useState)({}),P=Object(m.a)(N,2),q=P[0],B=P[1],G=Object(n.useState)(!1),Q=Object(m.a)(G,2),W=Q[0],A=Q[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=[e.coords.latitude,e.coords.longitude];J(t),B({lat:e.coords.latitude,long:e.coords.longitude})})),function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,O();case 5:a=e.sent,n=t.area,r=t.info,c=a.regions,o=a.time,T(c),H(o),l(n),b(r.forecasts),k(r.valid_period);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var K=L.map((function(e){return e.west})),R=L.map((function(e){return e.east})),U=L.map((function(e){return e.north})),V=L.map((function(e){return e.south})),X=L.map((function(e){return e.central})),Y=F.map((function(e){return e.start})),Z=F.map((function(e){return e.end})),$=new Date(Y[0]).toLocaleTimeString(),ee=new Date(Z[0]).toLocaleTimeString(),te=new Date(Y[1]).toLocaleTimeString(),ae=new Date(Z[1]).toLocaleTimeString(),ne=new Date(Y[2]).toLocaleTimeString(),re=new Date(Z[2]).toLocaleTimeString();a.map((function(e,t){return e.weather=v[t]}));var le=function(e){return e*Math.PI/180},ce=function(e,t,a,n){e=le(e),a=le(a),t=le(t);var r=(n=le(n))-t,l=a-e;return 6371*Math.sqrt(r*r+l*l)},oe=function(e,t,a){for(var n,r=99999,l=0;l<a.length;++l){var c=ce(e,t,a.map((function(e){return e.label_location.latitude}))[l],a.map((function(e){return e.label_location.longitude}))[l]);c<r&&(n=l,r=c)}return n}(q.lat,q.long,a),ue=v.map((function(e){return e.area})),ie=v.map((function(e){return e.forecast}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{id:"weather"},"2 Hourly Forecast"),r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement("h3",null,ue[oe]),r.a.createElement("p",{id:"timestamp"},new Date(y.start).toLocaleTimeString(),"\xa0to\xa0",new Date(y.end).toLocaleTimeString()),r.a.createElement("h6",null,ie[oe])))),r.a.createElement("h5",null),r.a.createElement(s.a,{center:z,zoom:12},r.a.createElement(p.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(h.a,{position:z}),a.map((function(e){return r.a.createElement(E.a,{key:e.name,center:[e.label_location.latitude,e.label_location.longitude],onClick:function(){return A(e)},radius:12,color:"purple"})})),W&&r.a.createElement(f.a,{position:[W.label_location.latitude,W.label_location.longitude],onClose:function(){return A(!1)}},r.a.createElement("h4",null,W.name),r.a.createElement("p",null,W.weather.forecast))),r.a.createElement("h5",null),r.a.createElement("h4",{id:"weather"},"24 Hour Forecast"),r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement("h3",null,"North"),r.a.createElement("p",{id:"time"},$,"\xa0to\xa0",ee,"\xa0:\xa0"),r.a.createElement("h6",null,U[0]),r.a.createElement("p",{id:"time"},te,"\xa0to\xa0",ae,"\xa0:\xa0"),r.a.createElement("h6",null,U[1]),r.a.createElement("p",{id:"time"},ne,"\xa0to\xa0",re,"\xa0:\xa0"),r.a.createElement("h6",null,U[2]),r.a.createElement("h3",null,"South"),r.a.createElement("p",{id:"time"},$,"\xa0to\xa0",ee,"\xa0:\xa0"),r.a.createElement("h6",null,V[0]),r.a.createElement("p",{id:"time"},te,"\xa0to\xa0",ae,"\xa0:\xa0"),r.a.createElement("h6",null,V[1]),r.a.createElement("p",{id:"time"},ne,"\xa0to\xa0",re,"\xa0:\xa0"),r.a.createElement("h6",null,V[2]),r.a.createElement("h3",null,"East"),r.a.createElement("p",{id:"time"},$,"\xa0to\xa0",ee,"\xa0:\xa0"),r.a.createElement("h6",null,R[0]),r.a.createElement("p",{id:"time"},te,"\xa0to\xa0",ae,"\xa0:\xa0"),r.a.createElement("h6",null,R[1]),r.a.createElement("p",{id:"time"},ne,"\xa0to\xa0",re,"\xa0:\xa0"),r.a.createElement("h6",null,R[2]),r.a.createElement("h3",null,"West"),r.a.createElement("p",{id:"time"},$,"\xa0to\xa0",ee,"\xa0:\xa0"),r.a.createElement("h6",null,K[0]),r.a.createElement("p",{id:"time"},te,"\xa0to\xa0",ae,"\xa0:\xa0"),r.a.createElement("h6",null,K[1]),r.a.createElement("p",{id:"time"},ne,"\xa0to\xa0",re,"\xa0:\xa0"),r.a.createElement("h6",null,K[2]),r.a.createElement("h3",null,"Central"),r.a.createElement("p",{id:"time"},$,"\xa0to\xa0",ee,"\xa0:\xa0"),r.a.createElement("h6",null,X[0]),r.a.createElement("p",{id:"time"},te,"\xa0to\xa0",ae,"\xa0:\xa0"),r.a.createElement("h6",null,X[1]),r.a.createElement("p",{id:"time"},ne,"\xa0to\xa0",re,"\xa0:\xa0"),r.a.createElement("h6",null,X[2]))),r.a.createElement("h5",null),r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement("h3",null,"Features"),r.a.createElement("p",null,"- Quick check of the weather before heading out for outdoor activities."),r.a.createElement("p",null,"- If you enable location, you can see your nearest weather station."),r.a.createElement("h3",null,"Source"),"- ",r.a.createElement("a",{href:"https://data.gov.sg/"},"data.gov.sg"),r.a.createElement("h3",null,"Code"),"- ",r.a.createElement("a",{href:"https://github.com/hauchongtang/rainorshine"},"GitHub"))))}),S=(a(60),a(61),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(j,null))});c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.53131392.chunk.js.map