(this["webpackJsonprain-or-shine"]=this["webpackJsonprain-or-shine"]||[]).push([[0],{32:function(e,t,n){e.exports=n(62)},55:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),c=n(9),u=n.n(c),i=n(14),m=n(10),s=n(69),p=n(70),h=n(67),f=n(68),E=n(71),g=n(65),d=n(66),v=n(20),b=n.n(v),w=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/2-hour-weather-forecast",e.next=4,b.a.get("https://api.data.gov.sg/v1/environment/2-hour-weather-forecast");case 4:return t=e.sent,n={area:t.data.area_metadata,info:t.data.items[0]},e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/24-hour-weather-forecast",e.next=4,b.a.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast");case 4:return t=e.sent,e.abrupt("return",t.data.items[0].periods.map((function(e){return e.regions})));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),j=(n(55),function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),c=Object(m.a)(l,2),v=c[0],b=c[1],j=Object(a.useState)([]),S=Object(m.a)(j,2),y=S[0],k=S[1],x=Object(a.useState)([]),M=Object(m.a)(x,2),_=M[0],N=M[1],A=Object(a.useState)([1.3521,103.8198]),C=Object(m.a)(A,2),F=C[0],H=C[1],I=Object(a.useState)({}),z=Object(m.a)(I,2),D=z[0],J=z[1],L=Object(a.useState)(!1),P=Object(m.a)(L,2),T=P[0],q=P[1];Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=[e.coords.latitude,e.coords.longitude];H(t),J({lat:e.coords.latitude,long:e.coords.longitude})})),function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,O();case 5:n=e.sent,a=t.area,r=t.info,N(n),o(a),b(r.forecasts),k(r.valid_period);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var B=_.map((function(e){return e.west})),G=_.map((function(e){return e.east})),Q=_.map((function(e){return e.north})),W=_.map((function(e){return e.south})),K=_.map((function(e){return e.central}));n.map((function(e,t){return e.weather=v[t]}));var R=function(e){return e*Math.PI/180},U=function(e,t,n,a){e=R(e),n=R(n),t=R(t);var r=(a=R(a))-t,o=n-e;return 6371*Math.sqrt(r*r+o*o)},V=function(e,t,n){for(var a,r=99999,o=0;o<n.length;++o){var l=U(e,t,n.map((function(e){return e.label_location.latitude}))[o],n.map((function(e){return e.label_location.longitude}))[o]);l<r&&(a=o,r=l)}return a}(D.lat,D.long,n),X=v.map((function(e){return e.area})),Y=v.map((function(e){return e.forecast}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{id:"weather"},"2 Hourly Forecast"),r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(d.a,null,r.a.createElement("h3",null,X[V]),r.a.createElement("p",{id:"timestamp"},new Date(y.start).toLocaleTimeString(),"\xa0to\xa0",new Date(y.end).toLocaleTimeString()),r.a.createElement("h6",null,Y[V])))),r.a.createElement("h5",null),r.a.createElement(s.a,{center:F,zoom:12},r.a.createElement(p.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(h.a,{position:F}),n.map((function(e){return r.a.createElement(f.a,{key:e.name,center:[e.label_location.latitude,e.label_location.longitude],onClick:function(){return q(e)},radius:12,color:"purple"})})),T&&r.a.createElement(E.a,{position:[T.label_location.latitude,T.label_location.longitude],onClose:function(){return q(!1)}},r.a.createElement("h4",null,T.name),r.a.createElement("p",null,T.weather.forecast))),r.a.createElement("h5",null),r.a.createElement("h4",{id:"weather"},"24 Hour Forecast"),r.a.createElement(g.a,null,r.a.createElement(d.a,null,r.a.createElement("h3",null,"North"),r.a.createElement("p",null,"Afternoon(12pm to 6pm):\xa0",Q[0]),r.a.createElement("p",null,"Night(6pm to 6am):\xa0",Q[1]),r.a.createElement("p",null,"Morning(6am to 12 noon):\xa0",Q[2]),r.a.createElement("h3",null,"South"),r.a.createElement("p",null,"Afternoon(12pm to 6pm):\xa0",W[0]),r.a.createElement("p",null,"Night(6pm to 6am):\xa0",W[1]),r.a.createElement("p",null,"Morning(6am to 12 noon):\xa0",W[2]),r.a.createElement("h3",null,"East"),r.a.createElement("p",null,"Afternoon(12pm to 6pm):\xa0",G[0]),r.a.createElement("p",null,"Night(6pm to 6am):\xa0",G[1]),r.a.createElement("p",null,"Morning(6am to 12 noon):\xa0",G[2]),r.a.createElement("h3",null,"West"),r.a.createElement("p",null,"Afternoon(12pm to 6pm):\xa0",B[0]),r.a.createElement("p",null,"Night(6pm to 6am):\xa0",B[1]),r.a.createElement("p",null,"Morning(6am to 12 noon):\xa0",B[2]),r.a.createElement("h3",null,"Central"),r.a.createElement("p",null,"Afternoon(12pm to 6pm):\xa0",K[0]),r.a.createElement("p",null,"Night(6pm to 6am):\xa0",K[1]),r.a.createElement("p",null,"Morning(6am to 12 noon):\xa0",K[2]))),r.a.createElement("h5",null),r.a.createElement(g.a,null,r.a.createElement(d.a,null,r.a.createElement("h3",null,"Features"),r.a.createElement("p",null,"- Quick check of the weather before heading out for outdoor activities."),r.a.createElement("p",null,"- If you enable location, you can see your nearest weather station."),r.a.createElement("h3",null,"Source"),"- ",r.a.createElement("a",{href:"https://data.gov.sg/"},"data.gov.sg"),r.a.createElement("h3",null,"Code"),"- ",r.a.createElement("a",{href:"https://github.com/hauchongtang/rainorshine"},"GitHub"))))}),S=(n(60),n(61),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(j,null))});l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.eaa842ca.chunk.js.map