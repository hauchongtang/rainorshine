(this["webpackJsonprain-or-shine"]=this["webpackJsonprain-or-shine"]||[]).push([[0],{32:function(e,t,a){e.exports=a(62)},55:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=a(12),u=a.n(o),i=a(15),s=a(10),m=a(70),p=a(71),h=a(67),E=a(69),d=a(72),f=a(65),g=a(66),v=a(68),b=a(20),w=a.n(b),O=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/2-hour-weather-forecast",e.next=4,w.a.get("https://api.data.gov.sg/v1/environment/2-hour-weather-forecast");case 4:return t=e.sent,a={area:t.data.area_metadata,info:t.data.items[0]},e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.data.gov.sg/v1/environment/24-hour-weather-forecast",e.next=4,w.a.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast");case 4:return t=e.sent,a={regions:t.data.items[0].periods.map((function(e){return e.regions})),time:t.data.items[0].periods.map((function(e){return e.time}))},e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=(a(55),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),b=o[0],w=o[1],S=Object(n.useState)([]),y=Object(s.a)(S,2),k=y[0],x=y[1],L=Object(n.useState)([]),D=Object(s.a)(L,2),T=D[0],_=D[1],C=Object(n.useState)([]),F=Object(s.a)(C,2),I=F[0],M=F[1],z=Object(n.useState)([1.3521,103.8198]),H=Object(s.a)(z,2),J=H[0],N=H[1],P=Object(n.useState)({}),q=Object(s.a)(P,2),B=q[0],G=q[1],Q=Object(n.useState)(!1),W=Object(s.a)(Q,2),A=W[0],K=W[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=[e.coords.latitude,e.coords.longitude];N(t),G({lat:e.coords.latitude,long:e.coords.longitude})})),function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return t=e.sent,e.next=5,j();case 5:a=e.sent,n=t.area,r=t.info,c=a.regions,o=a.time,_(c),M(o),l(n),w(r.forecasts),x(r.valid_period);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var R=T.map((function(e){return e.west})),U=T.map((function(e){return e.east})),V=T.map((function(e){return e.north})),X=T.map((function(e){return e.south})),Y=T.map((function(e){return e.central})),Z=I.map((function(e){return e.start})),$=I.map((function(e){return e.end})),ee=new Date(Z[0]).toLocaleTimeString(),te=new Date($[0]).toLocaleTimeString(),ae=new Date(Z[1]).toLocaleTimeString(),ne=new Date($[1]).toLocaleTimeString(),re=new Date(Z[2]).toLocaleTimeString(),le=new Date($[2]).toLocaleTimeString();a.map((function(e,t){return e.weather=b[t]}));var ce=function(e){return e*Math.PI/180},oe=function(e,t,a,n){e=ce(e),a=ce(a),t=ce(t);var r=(n=ce(n))-t,l=a-e;return 6371*Math.sqrt(r*r+l*l)},ue=function(e,t,a){for(var n,r=99999,l=0;l<a.length;++l){var c=oe(e,t,a.map((function(e){return e.label_location.latitude}))[l],a.map((function(e){return e.label_location.longitude}))[l]);c<r&&(n=l,r=c)}return n}(B.lat,B.long,a),ie=b.map((function(e){return e.area})),se=b.map((function(e){return e.forecast}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h5",null,"Current Location:"),r.a.createElement("h3",null,ie[ue]),r.a.createElement("p",{id:"timestamp"},new Date(k.start).toLocaleTimeString(),"\xa0to\xa0",new Date(k.end).toLocaleTimeString()),r.a.createElement("h6",null,se[ue])))),r.a.createElement("h5",null),r.a.createElement(m.a,{center:J,zoom:12},r.a.createElement(p.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(h.a,{position:J}),a.map((function(e){return r.a.createElement(E.a,{key:e.name,center:[e.label_location.latitude,e.label_location.longitude],onClick:function(){return K(e)},radius:12,color:"purple"})})),A&&r.a.createElement(d.a,{position:[A.label_location.latitude,A.label_location.longitude],onClose:function(){return K(!1)}},r.a.createElement("h4",null,A.name),r.a.createElement("p",null,A.weather.forecast))),r.a.createElement("h5",null),r.a.createElement(f.a,null,r.a.createElement(g.a,{id:"card0"},r.a.createElement("h4",{id:"weather"},"24 Hour Forecast"),r.a.createElement(v.a,{borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,ee,"\xa0to\xa0",te),r.a.createElement("th",null,ae,"\xa0to\xa0",ne),r.a.createElement("th",null,re,"\xa0to\xa0",le))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"North"),r.a.createElement("td",null,V[0]),r.a.createElement("td",null,V[1]),r.a.createElement("td",null,V[2])),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"South"),r.a.createElement("td",null,X[0]),r.a.createElement("td",null,X[1]),r.a.createElement("td",null,X[2])),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"East"),r.a.createElement("td",null,U[0]),r.a.createElement("td",null,U[1]),r.a.createElement("td",null,U[2])),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"West"),r.a.createElement("td",null,R[0]),r.a.createElement("td",null,R[1]),r.a.createElement("td",null,R[2])),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Central"),r.a.createElement("td",null,Y[0]),r.a.createElement("td",null,Y[1]),r.a.createElement("td",null,Y[2])))))),r.a.createElement("h5",null),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h3",null,"Features"),r.a.createElement("p",null,"- Quick check of the weather before heading out for outdoor activities."),r.a.createElement("p",null,"- If you enable location, you will be auto directed to your nearest weather station."),r.a.createElement("h3",null,"Source"),"- ",r.a.createElement("a",{href:"https://data.gov.sg/"},"data.gov.sg"),r.a.createElement("h3",null,"Code"),"- ",r.a.createElement("a",{href:"https://github.com/hauchongtang/rainorshine"},"GitHub"))))}),y=(a(60),a(61),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(S,null))});c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7d2f3a90.chunk.js.map